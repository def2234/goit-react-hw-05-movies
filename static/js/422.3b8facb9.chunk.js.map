{"version":3,"file":"static/js/422.3b8facb9.chunk.js","mappings":"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","sources":["components/pages/MovieDetails.styled.js","components/pages/MovieDetails.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","getMovies.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const GoToBack = styled(Link)`\n  margin: 10px 20px;\n  display: block;\n  text-decoration: none;\n  color: black;\n  font-size: 500;\n  &:hover,\n  :focus {\n    color: #f95959;\n  }\n`;\n\nexport const Div = styled.div`\n  display: flex;\n  padding: 0 20px;\n`;\n\nexport const DivDescr = styled.div`\n  margin-left: 15px;\n`;\n\nexport const H3 = styled.h3`\n  margin-left: 20px;\n`;\n\nexport const Li = styled.li`\n  list-style: none;\n`;\n\nexport const LinkItems = styled(Link)`\n  text-decoration: none;\n  color: black;\n  font-size: 15px;\n  &:hover,\n  :focus {\n    color: #f95959;\n  }\n`;\n\nexport const Img = styled.img`\n  object-fit: contain;\n`;\n","import Loading from 'components/loading/Loading';\nimport { GetMoviesDetails } from 'getMovies';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport picture from 'picture/PictureNotFaund.png';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport {\n  Div,\n  DivDescr,\n  GoToBack,\n  H3,\n  Img,\n  Li,\n  LinkItems,\n} from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const [details, setDetails] = useState({});\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idl');\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    setStatus('pending');\n    GetMoviesDetails(movieId)\n      .then(item => {\n        const genres = item.genres.map(item => item.name).join(', ');\n        const { poster_path, title, overview, vote_average, release_date } =\n          item;\n\n        const details = {\n          poster:\n            poster_path !== null\n              ? `https://image.tmdb.org/t/p/w300${poster_path}`\n              : picture,\n          title: title,\n          overview: overview,\n          genres: genres,\n          score: Math.round(vote_average * 10),\n          date: new Date(release_date).getFullYear(),\n        };\n        return details;\n      })\n      .then(movie => {\n        setStatus('resolve');\n        setDetails(movie);\n      })\n      .catch(error => {\n        setError(error.message);\n        setStatus('rejected');\n      });\n  }, [movieId]);\n\n  return (\n    <div>\n      <GoToBack to={backLinkHref.current}>Go back</GoToBack>\n\n      {status === 'pending' && <Loading />}\n      <div>\n        {status === 'rejected' && <h1>{error}</h1>}\n        {status === 'resolve' && (\n          <Div>\n            <div>\n              <Img\n                src={details.poster}\n                alt={details.title}\n                width=\"300\"\n                height=\"450\"\n              />\n            </div>\n            <DivDescr>\n              <h1>\n                {details.title} ({details.date})\n              </h1>\n              <p>User Score: {details.score}%</p>\n              <h2>Overview</h2>\n              <p>{details.overview}</p>\n              <h2>Genres</h2>\n\n              <p>{details.genres}</p>\n            </DivDescr>\n          </Div>\n        )}\n      </div>\n      <H3>Additional information</H3>\n      <ul>\n        <Li>\n          <LinkItems to=\"cast\"> Cast</LinkItems>\n        </Li>\n        <Li>\n          <LinkItems to=\"reviews\">Reviews</LinkItems>\n        </Li>\n      </ul>\n      <Suspense fallback={<Loading />}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const BASIK_URL = 'https://api.themoviedb.org/3';\nconst URL_SETTINGS = '/trending/all/day';\nconst API_KEY = '50c081603ce7d17904e2fe1fff4c28c2';\n\nexport const GetTrending = async () => {\n  const response = await fetch(\n    `${BASIK_URL}${URL_SETTINGS}?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    return Promise.reject(new Error('Something went wrong'));\n  }\n  return await response.json();\n};\n\nexport const GetMoviesName = async query => {\n  const response = await fetch(\n    `${BASIK_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Movie with that name: ${query} not found`)\n    );\n  }\n  return await response.json();\n};\n\nexport const GetMoviesDetails = async MovieId => {\n  const response = await fetch(\n    `${BASIK_URL}/movie/${MovieId}?api_key=${API_KEY}&language=en-US`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Sorry the movie with this id: ${MovieId} was not found`)\n    );\n  }\n  return await response.json();\n};\n\nexport const GetMoviesCredits = async MovieId => {\n  const response = await fetch(\n    `${BASIK_URL}/movie/${MovieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Sorry the movie with this id: ${MovieId} was not found`)\n    );\n  }\n  return await response.json();\n};\n\nexport const GetMoviesReviews = async MovieId => {\n  const response = await fetch(\n    `${BASIK_URL}/movie/${MovieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Sorry the movie with this id: ${MovieId} was not found`)\n    );\n  }\n  return await response.json();\n};\n"],"names":["GoToBack","styled","Link","Div","DivDescr","H3","Li","LinkItems","Img","useState","details","setDetails","error","setError","status","setStatus","movieId","useParams","location","useLocation","backLinkHref","useRef","state","from","useEffect","GetMoviesDetails","then","item","genres","map","name","join","poster_path","title","overview","vote_average","release_date","poster","picture","score","Math","round","date","Date","getFullYear","movie","catch","message","to","current","Loading","src","alt","width","height","Suspense","fallback","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","BASIK_URL","API_KEY","GetTrending","fetch","response","ok","Error","json","GetMoviesName","query","MovieId","GetMoviesCredits","GetMoviesReviews"],"sourceRoot":""}
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[776],{776:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,c,u,a=t(439),o=t(791),i=t(168),s=t(444),f=s.ZP.form(r||(r=(0,i.Z)(["\n  margin-top: 20px;\n  display: flex;\n  margin-left: 20px;\n"]))),p=s.ZP.button(c||(c=(0,i.Z)(["\n  display: block;\n  height: 30px;\n  cursor: pointer;\n"]))),h=s.ZP.input(u||(u=(0,i.Z)(["\n  height: 25px;\n  width: 250px;\n  padding-left: 10px;\n"]))),l=t(184),v=function(e){var n=e.onSubmit,t=(0,o.useState)(""),r=(0,a.Z)(t,2),c=r[0],u=r[1],i=function(){u("")};return(0,l.jsxs)(f,{onSubmit:function(e){e.preventDefault(),""!==c.trim()&&(n(c),i())},children:[(0,l.jsx)(h,{onChange:function(e){var n=e.target.value;u(n)},name:"value",value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,l.jsx)(p,{type:"submit",children:"Search"})]})},d=t(673),m=t(87),x=t(689);var w=function(){var e,n=(0,o.useState)([]),t=(0,a.Z)(n,2),r=t[0],c=t[1],u=(0,o.useState)(null),i=(0,a.Z)(u,2),s=i[0],f=i[1],p=(0,o.useState)("idl"),h=(0,a.Z)(p,2),w=h[0],k=h[1],b=(0,m.lr)(),y=(0,a.Z)(b,2),g=y[0],j=y[1],S=null!==(e=g.get("query"))&&void 0!==e?e:"",Z=(0,x.TH)();return(0,o.useEffect)((function(){""!==S&&(0,d.Ip)(S).then((function(e){return e.results.map((function(e){return{title:e.title,id:e.id}}))})).then((function(e){k("resolve"),c(e)})).catch((function(e){k("rejected"),f(e.message)}))}),[S]),(0,l.jsxs)("div",{children:[(0,l.jsx)(v,{onSubmit:function(e){!function(e){j(""!==e?{query:e}:{})}(e)}}),"rejected"===w&&(0,l.jsx)("h1",{children:s}),"resolve"===w&&(0,l.jsx)("ul",{children:r.map((function(e){var n=e.title,t=e.id;return(0,l.jsx)("li",{children:(0,l.jsx)(m.rU,{to:"".concat(t),state:{from:Z},children:n})},t)}))})]})}},673:function(e,n,t){function r(e,n,t,r,c,u,a){try{var o=e[u](a),i=o.value}catch(s){return void t(s)}o.done?n(i):Promise.resolve(i).then(r,c)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(c,u){var a=e.apply(n,t);function o(e){r(a,c,u,o,i,"next",e)}function i(e){r(a,c,u,o,i,"throw",e)}o(void 0)}))}}t.d(n,{QK:function(){return h},qN:function(){return p},Ip:function(){return f},fk:function(){return l},dU:function(){return s}});var u=t(757),a=t.n(u),o="https://api.themoviedb.org/3",i="50c081603ce7d17904e2fe1fff4c28c2",s=function(){var e=c(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o).concat("/trending/all/day","?api_key=").concat(i));case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Something went wrong")));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=c(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/search/movie?api_key=").concat(i,"&language=en-US&query=").concat(n,"&page=1&include_adult=false"));case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Movie with that name: ".concat(n," not found"))));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=c(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/movie/").concat(n,"?api_key=").concat(i,"&language=en-US"));case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Sorry the movie with this id: ".concat(n," was not found"))));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=c(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(i,"&language=en-US"));case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Sorry the movie with this id: ".concat(n," was not found"))));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=c(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(i,"&language=en-US"));case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Sorry the movie with this id: ".concat(n," was not found"))));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=776.271e34ba.chunk.js.map
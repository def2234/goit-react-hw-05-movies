{"version":3,"file":"static/js/776.271e34ba.chunk.js","mappings":"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","sources":["components/searchForm/SearchForm.syled.js","components/searchForm/SearchForm.js","components/pages/Movies.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","getMovies.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n  margin-top: 20px;\n  display: flex;\n  margin-left: 20px;\n`;\n\nexport const Btn = styled.button`\n  display: block;\n  height: 30px;\n  cursor: pointer;\n`;\n\nexport const Input = styled.input`\n  height: 25px;\n  width: 250px;\n  padding-left: 10px;\n`;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Btn, Form, Input } from './SearchForm.syled';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [value, setValue] = useState('');\n\n  const onInputChange = e => {\n    const { value } = e.target;\n    setValue(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (value.trim() === '') {\n      return;\n    }\n\n    onSubmit(value);\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setValue('');\n  };\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input\n        onChange={onInputChange}\n        name=\"value\"\n        value={value}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n      <Btn type=\"submit\">Search</Btn>\n    </Form>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import SearchForm from 'components/searchForm/SearchForm';\nimport { GetMoviesName } from 'getMovies';\n\nimport { useEffect, useState } from 'react';\n\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idl');\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n\n  const hendleFormSubmit = query => {\n    updateQuery(query);\n  };\n\n  function updateQuery(query) {\n    const nextQuery = query !== '' ? { query } : {};\n    setSearchParams(nextQuery);\n  }\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n    GetMoviesName(searchQuery)\n      .then(query => {\n        const movie = query.results.map(({ title, id }) => {\n          return { title, id };\n        });\n\n        return movie;\n      })\n      .then(movie => {\n        setStatus('resolve');\n        setMovies(movie);\n      })\n      .catch(error => {\n        setStatus('rejected');\n        setError(error.message);\n      });\n  }, [searchQuery]);\n\n  return (\n    <div>\n      <SearchForm onSubmit={hendleFormSubmit} />\n\n      {status === 'rejected' && <h1>{error}</h1>}\n\n      {status === 'resolve' && (\n        <ul>\n          {movies.map(({ title, id }) => {\n            return (\n              <li key={id}>\n                <Link to={`${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const BASIK_URL = 'https://api.themoviedb.org/3';\nconst URL_SETTINGS = '/trending/all/day';\nconst API_KEY = '50c081603ce7d17904e2fe1fff4c28c2';\n\nexport const GetTrending = async () => {\n  const response = await fetch(\n    `${BASIK_URL}${URL_SETTINGS}?api_key=${API_KEY}`\n  );\n  if (!response.ok) {\n    return Promise.reject(new Error('Something went wrong'));\n  }\n  return await response.json();\n};\n\nexport const GetMoviesName = async query => {\n  const response = await fetch(\n    `${BASIK_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Movie with that name: ${query} not found`)\n    );\n  }\n  return await response.json();\n};\n\nexport const GetMoviesDetails = async MovieId => {\n  const response = await fetch(\n    `${BASIK_URL}/movie/${MovieId}?api_key=${API_KEY}&language=en-US`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Sorry the movie with this id: ${MovieId} was not found`)\n    );\n  }\n  return await response.json();\n};\n\nexport const GetMoviesCredits = async MovieId => {\n  const response = await fetch(\n    `${BASIK_URL}/movie/${MovieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Sorry the movie with this id: ${MovieId} was not found`)\n    );\n  }\n  return await response.json();\n};\n\nexport const GetMoviesReviews = async MovieId => {\n  const response = await fetch(\n    `${BASIK_URL}/movie/${MovieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  if (!response.ok) {\n    return Promise.reject(\n      new Error(`Sorry the movie with this id: ${MovieId} was not found`)\n    );\n  }\n  return await response.json();\n};\n"],"names":["Form","styled","Btn","Input","onSubmit","useState","value","setValue","resetForm","e","preventDefault","trim","onChange","target","name","type","autoComplete","autoFocus","placeholder","movies","setMovies","error","setError","status","setStatus","useSearchParams","searchParams","setSearchParams","searchQuery","get","location","useLocation","useEffect","GetMoviesName","then","query","results","map","title","id","movie","catch","message","updateQuery","to","state","from","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","BASIK_URL","API_KEY","GetTrending","fetch","response","ok","Error","json","GetMoviesDetails","MovieId","GetMoviesCredits","GetMoviesReviews"],"sourceRoot":""}